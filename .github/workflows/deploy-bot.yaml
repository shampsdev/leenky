name: deploy-bot

on: 
  workflow_dispatch:

jobs:
  deploy:
    uses: shampsdev/cicd-pipelines/.github/workflows/deploy.yaml@main
    permissions:
      packages: write
      contents: read
      attestations: write
      id-token: write
    secrets: inherit
    with:
      dockerfile_path: 'server/Dockerfile.tgbot'
      context_path: 'server'
      image_name: 'leenky-bot'
      environment: 'PROD'
      secret-service-hash: 'BOT_SERVICE_HASH'
